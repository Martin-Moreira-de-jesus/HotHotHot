<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon-16x16.png">
    <link rel="manifest" href="manifest.webmanifest">
    <title>HotHotHot</title>
</head>

<body>

<nav class="nav-extended">
    <div class="nav-wrapper">
        <div class="flexbox">
            <img src="images/hot-dog.png" alt="logo" height="40" width="40" style="margin: 10px;">
        </div>
    </div>
    <div class="nav-content">
        <ul class="tabs tabs-transparent">
            <li class="tab"><a href="#sensors">Capteurs</a></li>
            <li class="tab"><a href="#historic">Historique</a></li>
            <li class="tab"><a href="#about">À propos</a></li>
            <li class="tab"><a href="#account">Compte</a></li>
            <li class="tab"><a href="#download">Télécharger</a></li>
        </ul>
    </div>
</nav>

<main id="app" class="container">
    <section id="sensors" class="active">
        <h2 class="center">Capteurs</h2>
        <div class="row" style="padding-bottom: 20px;">
            <div class="flexbox">
                <div class="col l6 s12 card no-padding" style="margin: 10px; max-width: 350px">
                    <div class="center-align">
                        <h4>Extérieur</h4>
                        <h1><span id="out-temp"></span>°C</h1>
                        <h5>Min: <span id="min-temp-out"></span> | Max: <span id="max-temp-out"></span></h5>
                    </div>
                </div>
                <div class="col l6 s12 card no-padding" style="margin: 10px; max-width: 350px">
                    <div class="center-align">
                        <h4>Intérieur</h4>
                        <h1><span id="in-temp"></span>°C</h1>
                        <h5>Min: <span id="min-temp-in"></span> | Max: <span id="max-temp-in"></span></h5>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="historic">
        <h2 class="center">Historique</h2>
        <table class="striped" style="margin-bottom: 20px">
            <tbody>
            <tr id="table-title-row">
                <td class="historic-title">
                    <div id="table-temp-row">
                        <a href="#temp" id="link-temp-sort">TEMPERATURE</a>
                        <img src="" id="svg-temp" alt="">
                    </div>
                </td>
                <td class="historic-title">
                    <div id="table-lieu-row">
                        <a href="#sensor" id="link-sensor-sort">CAPTEUR</a>
                        <img src="" id="svg-sensor" alt="">
                    </div>
                </td>
                <td class="historic-title">
                    <div id="table-date-row">
                        <a href="#date" id="link-date-sort">DATE</a>
                        <img src="images/historic/caret-down.svg" id="svg-date" alt="">
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
        <div class="container center">
            <div id="page-navbar" class="page-navigation-bar">
                <p>Page <span id="current-page"></span> sur <span id="total-pages">1</span></p>
                <!--<button class="custom-btn hiddendiv" value="previous"><Précédent</button>-->
                <span id="page-buttons">
                    <button class="custom-btn" value="0" style="margin: 0 2px;">1</button>
                    <template id="page-button-template">
                        <button class="custom-btn" value="" style="margin: 0 2px;"></button>
                    </template>
                </span>
                <!--<button class="custom-btn hiddendiv" value="next">Suivant></button>-->
            </div>
        </div>
        <div>
            <canvas id="myChart" width="400" height="400" style="">
                <script src="node_modules/chart.js/dist/chart.js"></script>
                <script defer src="lib/Scripts/ChartHandler.js"></script>
            </canvas>
        </div>
    </section>

    <section id="about">
        <h2 class="black-text center title">Acteurs du projet</h2>
        <div class="row" style="padding-bottom: 20px;">
            <div class="col l4 m6 s12">
                <div class="center-align">
                    <img src="images/team/rat.jpg" alt="" class="card-image" width="128" height="128"
                         style="border-radius: 50%;">
                    <h4>MOREIRA DE JESUS Martin</h4>
                    <h5>Scrum Master</h5>
                </div>
            </div>
            <div class="col l4 m6 s12">
                <div class="center-align">
                    <img src="images/team/barrywhite.jpg" alt="" class="card-image" width="128" height="128"
                         style="border-radius: 50%;">
                    <h4>SYMPHORIEN Mathieu</h4>
                    <h5>Product owner</h5>
                </div>
            </div>
            <div class="col l4 m6 s12">
                <div class="center-align">
                    <img src="images/team/manouche.jpg" alt="" class="card-image" width="128" height="128"
                         style="border-radius: 50%;">
                    <h4>TEODORESCO Pierre</h4>
                    <h5>Dev</h5>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="flexbox">
                <div class="col l6 m6 s12">
                    <div class="center-align">
                        <img src="images/team/stormtrooper.jpg" alt="" class="card-image" width="128" height="128"
                             style="border-radius: 50%;">
                        <h4>SEIGNOBOS Louis</h4>
                        <h5>Dev</h5>
                    </div>
                </div>
                <div class="col l6 m6 s12">
                    <div class="center-align">
                        <img src="images/team/coiffeur.jpg" alt="" class="card-image" width="128" height="128"
                             style="border-radius: 50%;">
                        <h4>WROBEL Nicolas</h4>
                        <h5>Dev</h5>
                    </div>
                </div>
            </div>
        </div>
        <h2 class="black-text center title">Fonctionnalités</h2>
        <ul class="collection">
            <li class="collection-item">
                Application à page unique avec un système d'onglets pour se diriger vers les différentes sections.
            </li>
            <li class="collection-item">
                Communication avec le web service à l'aide de requêtes fetch (code du web socket inclus mais non utilisé car celui-ci ne fonctionne pas bien).
            </li>
            <li class="collection-item">
                Affichage des dernières valeures du capteur en temps réel avec affichage des valeurs minimales et maximales.
            </li>
            <li class="collection-item">
                Affichage d'un historique des mesures. Ainsi que d'un graphique représentant la moyenne des mesures par journées (difficile de l'utiliser sans avoir fait fonctionner l'application à des jours différents.
            </li>
            <li class="collection-item">
                Historique des mesures triable par température, type de capteur ou date.
            </li>
            <li class="collection-item">
                Historique des mesures paginé pour éviter les surcharges.
            </li>
            <li class="collection-item">
                Mise en cache des données de l'historique et des valeurs minimale et maximale des températures pour les recharger au lancement de l'application
            </li>
            <li class="collection-item">
                Webworker téléchargeable, mais bouton pour le télécharger non implémenté malheuresement.
            </li>
        </ul>
        <h2 class="black-text center title">Gestion de projet</h2>
        <p>
            Notre équipe a décidé d'être agile comme indique les rôles attribués dans la section Acteurs du projet. <br>
            Nous fonctionnions par rushs de deux semaines (8h par rush donc) et nous faisions des retrospectives à la fin de chacun en demandant à Mr. Eng son avis sur notre site (il jouait donc le rôle du client). <br>
            Nous avons évidemment utilisé git avec une branche par personne. La plupart du temps, nous avons formé des petits groupes de deux personnes pour travailler.
            Nous avons utilisé "Klaxoon", une application web pour réaliser nos Kanban et retrospectives <br>
            Nous avions donc notre liste des tâches à faire, une liste des tâches en cours puis une liste des tâches faites, cela nous a fait gagner beaucoup de temps.
        </p>
        <h2 class="black-text center title">Difficultés</h2>
        <ul class="collection">
            <li class="collection-item">
                Comme le web socket ne fonctionnait pas à merveille, nous avons commenté le code le concernant et utilisé des requêtes fetch.
            </li>
            <li class="collection-item">
                Nous avons utilisé le mode strict de ECMA5 pour le code. Celui-ci a été très difficile à prendre en main. Cependant, son utilisation a augmenté la qualité du code et à faciliter le refactoring. De plus, cela nous évitait des comportements inattendus propres à Javascript.
            </li>
            <li class="collection-item">
                Au même titre que le mode strict, nous avons utilisé le design pattern Sujet Observeur pour le projet. Cependant, cela s'est fait bien après que nous avions fini. Ainsi la transition à été très difficile, mais les avantages sont les mêmes que le mode strict.
            </li>
            <li class="collection-item">
                Il nous a été impossible d'implémenter le chart en utilisant le design pattern Sujet Observeur. Nous avions du mal à inclure la librairie avec le mode strict ES5. Il est quand même possible de l'utiliser car nous l'avons implémenté séparément.
            </li>
            <li class="collection-item">
                Nous n'avons également pas réussi à mettre un bouton permettant de télécharger le web-worker.
            </li>
        </ul>
    </section>

    <section id="account">
        <h2 class="black-text center title">Compte</h2>
        <div class="row">
            <div class="col s12">
                <h4 class="col s12 black-text center title">Connexion</h4>
                <div class="row">
                    <div class="input-field col s12">
                        <input id="connection-password" type="password" class="validate">
                        <label for="connection-password">Mot de passe</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <input id="connection-email" type="email" class="validate">
                        <label for="connection-email">Email</label>
                    </div>
                </div>
                <button id="submit-connection" class="col l12 s12">Connexion</button>
            </div>
            <div class="col l12 s12" style="margin-top: 20px;">
                <h4 class="col s12 black-text center title">Inscription</h4>
                <div class="row">
                    <form class="col s12">
                        <div class="row">
                            <div class="input-field col s6">
                                <input id="first_name" type="text" class="validate">
                                <label for="first_name">Prenom</label>
                            </div>
                            <div class="input-field col s6">
                                <input id="last_name" type="text" class="validate">
                                <label for="last_name">Nom</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <input id="password" type="password" class="validate">
                                <label for="password">Mot de passe</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <input id="email" type="email" class="validate">
                                <label for="email">Email</label>
                            </div>
                        </div>
                    </form>
                    <button class="col s12" id="submit-register">S'inscrire</button>
                </div>
            </div>
        </div>
    </section>

    <section id="download">
        <h2 class="black-text center title">Télécharger</h2>
        <div class="row">
            <button class="col s12 custom-btn">Cliquez ici pour télécharger (ne fonctionne pas)</button>
        </div>
    </section>
</main>

<template id="entry-template">
    <tr class="hiddendiv">
        <td>MEASUREMENT</td>
        <td>PLACE</td>
        <td>TIME</td>
    </tr>
</template>
<script
        defer
        type="module"
        src="index.js">
</script>
<script
    defer
    src="lib/Scripts/service-worker.js">
</script>
</body>
</html>
